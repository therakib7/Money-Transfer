webpackJsonp([1],{241:function(t,e,s){"use strict";e.a={en:{name:"Name",status:"Status",amount:"Amount",tk:"Amount",number:"Number",service:"Service",com:"Com",operator:"Operator",date:"Date",message:"Message",user_id:"User ID",u_n:"User Name",fee:"Fee",action:"Actions",address:"Address",type:"Type",s_cat:"Select Category",m_n:"Mobile Number",trx_id:"Trx ID",all:"All",t_a:"Total Amount",t_com:"Total Commission",s_u_h:"Search by mobile, email or username",next:"Next",previous:"Previous",m_s:"Modify Status",d_s:"Delete Selected",edit_schedule:"Edit Schedule",schedule_time:"Schedule Time",s_o:"Select Operator",s_s:"Select Service",no:"No:",note:"Note",pin:"Pin",close:"Close",create:"Create",delete:"Delete",edit:"Edit",view:"View",update:"Update",cancelled:"Cancelled",waiting:"Waiting",show_pin:"Show Pin",hide_pin:"Hide Pin",refresh_list:"Refresh List",c_h_go_b:"Click here to go back",c_h_go_f:"Click here to go forward",to_type_number:"To type number"},bn:{name:"নাম",status:"অবস্থা",amount:"টাকা",tk:"টাকার পরিমান",number:"নাম্বার",service:"সেবা",com:"কমিশন",operator:"অপারেটর",date:"তারিখ",message:"মেসেজ",user_id:"ইউজার আইডি",u_n:"ইউজার নাম",fee:"ফি",action:"সম্পাদন",address:"ঠিকানা",type:"ধরন",s_cat:"শ্রেনী নির্বাচন",m_n:"মোবাইল নাম্বার",trx_id:"লেনদেন নং",all:"সকল",t_a:"মোট টাকার পরিমান",t_com:"মোট কমিশন",s_u_h:"মোবাইল বা ইমেইল দিয়ে সন্ধান করুন।",next:"পরবর্তী",previous:"পূর্ববর্তী",m_s:"অবস্থা সংশোধন করুন",d_s:"নির্বাচিত তথ্য মুছে ফেলুন",edit_schedule:"সময় সম্পাদনা করুন",schedule_time:"সময় নির্ধারন করুন",s_o:"অপারেটর নির্বাচন",s_s:"সেবা নির্বাচন",no:"নং:",note:"নোট",pin:"পিন",close:"বন্ধ",create:"তৈরী করুন",delete:"মুছে ফেলুন",edit:"সম্পাদন",view:"দেখুন",update:"পরিবর্তন",cancelled:"বাতিল করা হয়েছে",waiting:"অপেক্ষমান",show_pin:"পিন দেখুন",hide_pin:"পিন অদৃশ্য",refresh_list:"তালিকা পুনঃ লোড করুন",c_h_go_b:"পিচনে যাও",c_h_go_f:"সামনে যাও",to_type_number:"নাম্বার টাইপ করতে"}}},242:function(t,e,s){var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=s(243),n={},o=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,l=!1,u=function(){},d=null,_="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t){for(var e=0;e<t.length;e++){var s=t[e],a=n[s.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](s.parts[i]);for(;i<s.parts.length;i++)a.parts.push(v(s.parts[i]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{var o=[];for(i=0;i<s.parts.length;i++)o.push(v(s.parts[i]));n[s.id]={id:s.id,refs:1,parts:o}}}}function b(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function v(t){var e,s,a=document.querySelector("style["+_+'~="'+t.id+'"]');if(a){if(l)return u;a.parentNode.removeChild(a)}if(p){var i=c++;a=r||(r=b()),e=g.bind(null,a,i,!1),s=g.bind(null,a,i,!0)}else a=b(),e=function(t,e){var s=e.css,a=e.media,i=e.sourceMap;a&&t.setAttribute("media",a);d.ssrId&&t.setAttribute(_,e.id);i&&(s+="\n/*# sourceURL="+i.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}.bind(null,a),s=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else s()}}t.exports=function(t,e,s,a){l=s,d=a||{};var o=i(t,e);return m(o),function(e){for(var s=[],a=0;a<o.length;a++){var r=o[a];(c=n[r.id]).refs--,s.push(c)}e?m(o=i(t,e)):o=[];for(a=0;a<s.length;a++){var c;if(0===(c=s[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete n[c.id]}}}};var h,f=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function g(t,e,s,a){var i=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var n=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}},243:function(t,e){t.exports=function(t,e){for(var s=[],a={},i=0;i<e.length;i++){var n=e[i],o=n[0],r={id:t+":"+i,css:n[1],media:n[2],sourceMap:n[3]};a[o]?a[o].parts.push(r):s.push(a[o]={id:o,parts:[r]})}return s}},420:function(t,e,s){var a=s(421);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(242)("01086421",a,!0,{})},421:function(t,e,s){(t.exports=s(158)(!1)).push([t.i,"",""])},422:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(241);function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}e.default={components:{"date-time-picker":function(){return s.e(59).then(s.bind(null,240))}},data:function(){var t,e;return{ubp_super_role:!1,mt_agent_mer_role:!1,dateOptions:this.$store.state.dateOptions,ubp:{ubp:[(t={provider_id:"",warning_msg:"",services:[],service_id:"",number:"",ac_number:"",ac_number_two:"",due_date:null,name:null,search_name:!1,add_name:!1,add_new_due:!1,add_new_schedule:!1,extra_info:!1},i(t,"name",null),i(t,"number_list",null),i(t,"amount",""),i(t,"suggestions",null),i(t,"paid",null),i(t,"due_note",""),i(t,"schedule_time",null),t)],pin:""},showPass:!1,ubpConst:{ubp:[(e={provider_id:"",warning_msg:"",services:[],service_id:"",number:"",ac_number:"",ac_number_two:"",due_date:null,name:null,search_name:!1,add_name:!1,add_new_due:!1,add_new_schedule:!1,extra_info:!1},i(e,"name",null),i(e,"number_list",null),i(e,"amount",""),i(e,"suggestions",null),i(e,"paid",null),i(e,"due_note",""),i(e,"schedule_time",null),e)],pin:""},ubpUpdate:{schedule_time:null},contact:{ubp_key:"",contact_cat_id:"",contacts:{},categories:[]},ubpSearch:{status:"",number:"",user_id:"",provider_id:"",services:[],service_id:"",amount_from:"",amount_to:"",date_from:"",date_to:"",order_by:""},ubps:{},accounts:[],isLoading:!1,t_a:0,total_user_com:0,msg_details:"",providers:[],sim_packs:[],perPage:this.$route.query.per_page,perPageOptions:this.$store.state.perPageOptions,noData:"",contactNoData:"",preloader:!0,contactPreloader:!0,selected:[],selectAll:!1,pending_waiting_no:"",pending_waiting_count:0}},watch:{perPage:function(t){var e=this.$route.query.page;this.$router.push({path:document.location.search,query:{page:e,per_page:t}}),this.getLists()},"contact.contact_cat_id":function(t){this.$router.push({path:document.location.search,query:{contact_cat_id:t?t.id:""}}),this.loadContact()},"ubpSearch.provider_id":function(t){this.ubpSearch.services=this.ubpSearch.provider_id?this.ubpSearch.provider_id.services:[],this.ubpSearch.service_id=""}},created:function(){var t=this;this.ubp_super_role=this.$root.can("utility-bill-super"),this.mt_agent_mer_role=this.$root.can(["agent","merchant"]),this.getLists();var e=this.$route.query.per_page;this.perPageOptions.find(function(t){return t.value==e})||this.perPageOptions.splice(0,0,{text:e,value:e}),Echo.private("mts-updated."+this.$store.state.auth_id).listen("MtsUpdated",function(e){var s=t.ubps.data.findIndex(function(t){return t.id==e.data.id});t.ubps.data[s].status=e.data.status,4==e.data.status&&t.$root.acBalance()}),this.pending_waiting(),this.pending_waiting_no=setInterval(this.pending_waiting,2e3)},mounted:function(){this.$root.popupModal()},updated:function(){this.$root.dropdownModal()},methods:{customLabel:function(t){var e=t.name;return void 0===e?"":e},asyncFind:function(t){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.length<4||(e.isLoading=!0,axios.get("/api/v1/ac/accounts?title="+t).then(function(t){e.accounts=t.data.users,e.isLoading=!1}).catch(function(t){e.$store.commit("errorMessages",t)}))},600)},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.ubps.data)this.selected.push(this.ubps.data[t].id)},dataSearch:function(){var t=this.ubpSearch,e={};for(var s in t.date_from=t.date_from?t.date_from.toString():"",t.date_to=t.date_to?t.date_to.toString():"",t)t[s]?"services"!=s&&(e[s]="user_id"!=s&&"provider_id"!=s?t[s]:t[s].id):this.$route.query[s]&&(e[s]="");this.$router.push({path:document.location.search,query:e}),this.getLists()},addFlexi:function(t){try{var e;this.ubp.ubp.splice(t+1,0,(i(e={provider_id:"",warning_msg:"",services:[],service_id:"",number:"",ac_number:"",ac_number_two:"",due_date:null,name:null,search_name:!1,add_name:!1,add_new_due:!1,add_new_schedule:!1,extra_info:!0},"name",null),i(e,"number_list",null),i(e,"amount",""),i(e,"suggestions",null),i(e,"paid",null),i(e,"due_note",""),i(e,"schedule_time",null),e))}catch(t){console.log(t)}},removeFlexi:function(t){1==this.ubp.ubp.length?alert(this.$store.state.needOne):this.ubp.ubp.splice(t,1)},numberTitle:function(t){return"palli-bidyut"==this.ubp.ubp[t].provider_id.slug?"Consumer Number":"bpdb"==this.ubp.ubp[t].provider_id.slug&&"prepaid"==this.ubp.ubp[t].service_id.slug?"Meter No":this.$t("consumer_number")},due_date_show:function(t){return"palli-bidyut"==this.ubp.ubp[t].provider_id.slug&&"postpaid"==this.ubp.ubp[t].service_id.slug},number_two_show:function(t){return"palli-bidyut"!=this.ubp.ubp[t].provider_id.slug||"postpaid"!=this.ubp.ubp[t].service_id.slug},numberTwoTitle:function(t){return"bpdb"==this.ubp.ubp[t].provider_id.slug&&"postpaid"==this.ubp.ubp[t].service_id.slug?"Bill Id":"bpdb"==this.ubp.ubp[t].provider_id.slug&&"prepaid"==this.ubp.ubp[t].service_id.slug?"Contact Mobile No":this.$t("bill_id")},serviceFee:function(t){if(!this.ubp.ubp[t].service_id.service_fees.length||!this.ubp.ubp[t].amount)return null;for(var e=function(t,e){return t.from<=e&&("*"===t.to||t.to>=e)},s=this.ubp.ubp[t].service_id.service_fees,a=this.ubp.ubp[t].amount,i=!1,n=0;n<s.length&&!i;n++){var o=s[n];if(e(o,a))return o.percent?a*parseFloat(o.co_fee)/100+a*parseFloat(o.user_fee)/100:parseInt(o.co_fee)+parseInt(o.user_fee)}},numberChange:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.ubp.ubp[t].number;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){if(a.length<=5)return e.ubp.ubp[t].name="",void(e.ubp.ubp[t].number_list="");var i=s?"name":"number";axios.get("/api/v1/ct/contacts?"+i+"="+a+"&type=2").then(function(s){e.ubp.ubp[t].number_list=s.data.contacts.data}).catch(function(t){e.$store.commit("errorMessages",t)})},600)},providerChanged:function(t){this.ubp.ubp[t].provider_id.services&&(this.ubp.ubp[t].service_id=this.ubp.ubp[t].provider_id.services[0],this.ubp.ubp[t].services=this.ubp.ubp[t].provider_id.services)},selectedNumber:function(t,e,s){this.ubp.ubp[t].number=e.services[0].number,this.ubp.ubp[t].number_list=null,this.ubp.ubp[t].name=e.name,this.ubp.ubp[t].ac_number=s.number;var a=s.provider_id;if(a){this.ubp.ubp[t].provider_id=a,this.ubp.ubp[t].services=a.services;var i=a.services.find(function(t){return t.id===s.service_id});this.ubp.ubp[t].service_id=i,"bpdb"==this.ubp.ubp[t].provider_id.slug&&"prepaid"==this.ubp.ubp[t].service_id.slug&&(this.ubp.ubp[t].ac_number_two=e.services[0].number)}},removeNumber:function(t){this.ubp.ubp[t].name=null,this.ubp.ubp[t].number=null,this.ubp.ubp[t].number_list=null,this.ubp.ubp[t].provider_id="",this.ubp.ubp[t].service_id="",this.ubp.ubp[t].ac_number="",this.ubp.ubp[t].due_date="",this.ubp.ubp[t].ac_number_two="",this.ubp.ubp[t].amount="",this.ubp.ubp[t].suggestions=""},loadContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this;a.contact.ubp_key=s,this.$route.query.contact_per_page||this.$route.query.contact_page||this.$router.push({path:document.location.search,query:{contact_page:1,contact_per_page:20}}),a.contact.contacts={},a.contactPreloader=!0;var i=this.$route.query.contact_per_page,n=e?t:this.$route.query.contact_page;e&&this.$router.push({path:document.location.search,query:{contact_page:n,contact_per_page:i}});var o=this.$route.query,r=Object.keys(o).map(function(t){return t+"="+o[t]}).join("&");a.contact.contact_cat_id&&(r+="&contact_cat_id="+a.contact.contact_cat_id.id),r+="&type=2",axios.get("/api/v1/ct/contacts?"+r).then(function(t){a.contactPreloader=!1,a.contact.contacts=t.data.contacts,a.contact.categories=t.data.categories,0==a.contact.contacts.data.length?a.contactNoData=a.$store.state.noData:a.contactNoData=""}).catch(function(t){a.$store.commit("errorMessages",t)})},contactSeleted:function(t,e){document.getElementById("contactModal").classList.toggle("show");var s=this.contact.ubp_key;this.ubp.ubp[s].number=t.services[0].number,this.ubp.ubp[s].number_list=null,this.ubp.ubp[s].name=t.name,this.ubp.ubp[s].ac_number=e.number;var a=e.provider_id;if(a){this.ubp.ubp[s].provider_id=a,this.ubp.ubp[s].services=a.services;var i=a.services.find(function(t){return t.id===e.service_id});this.ubp.ubp[s].service_id=i,"bpdb"==this.ubp.ubp[s].provider_id.slug&&"prepaid"==this.ubp.ubp[s].service_id.slug&&(this.ubp.ubp[s].ac_number_two=t.services[0].number)}},user:function(t){return t.mobile?t.mobile:t.email?t.email:t.username},getLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this,a=this.$route.query.per_page,i=e?t:this.$route.query.page;e&&this.$router.push({path:document.location.search,query:{page:i,per_page:a}});var n=this.$route.query,o=Object.keys(n).map(function(t){return t+"="+n[t]}).join("&");this.$Progress.start(),axios.get("/api/v1/mt/ubps?"+o).then(function(t){s.preloader=!1,s.$Progress.finish(),s.ubps=t.data.ubps,s.providers=t.data.providers;var e=0,a=0;t.data.ubps.data.forEach(function(t){2==t.status&&4==t.status||(e+=t.amount,null!=t.user_com&&(a+=parseFloat(t.user_com)))}),s.t_a=e,s.total_user_com=a.toFixed(2),0==s.ubps.data.length?s.noData=s.$store.state.noData:s.noData="",s.pending_waiting_count=0}).catch(function(t){s.$store.commit("errorMessages",t)})},accountInfo:function(t){var e=t.number.split("*");return"palli-bidyut"==t.provider_id.slug&&"postpaid"==t.service_id.slug?"Consumer Number: "+e[0]+" Due Date: "+e[1]:"bpdb"==t.provider_id.slug&&"prepaid"==t.service_id.slug?"Meter Number: "+e[0]+" Contact Number: "+e[1]:"bpdb"==t.provider_id.slug&&"postpaid"==t.service_id.slug?"Consumer Number: "+e[0]+" Bill Id: "+e[1]:""},msgDetails:function(t){this.msg_details=t},status:function(t){switch(t.status){case 0:return this.$t("pending");case 1:return this.$t("success");case 2:return this.$t("cancelled");case 3:return this.$t("waiting");case 4:return this.$t("failed")}},saveForm:function(){var t=this,e=this;for(var s in e.ubp.ubp){if(!e.ubp.ubp[s].provider_id)return void(e.ubp.ubp[s].warning_msg="Please Select Utility Type");var a=e.ubp.ubp[s].provider_id;if(a.min_number==a.max_number&&e.ubp.ubp[s].ac_number.toString().length!=a.min_number)return void(e.ubp.ubp[s].warning_msg=e.numberTitle(s)+" must "+a.min_number+" digit");if(a.min_number!=a.max_number&&e.ubp.ubp[s].ac_number.toString().length<a.min_number||e.ubp.ubp[s].ac_number.toString().length>a.max_number)return void(e.ubp.ubp[s].warning_msg=e.numberTitle(s)+" must between "+a.min_number+" to "+a.max_number+" digit");var i=e.ubp.ubp[s].service_id;if(e.ubp.ubp[s].amount<i.min_amount||e.ubp.ubp[s].amount>i.max_amount)return void(e.ubp.ubp[s].warning_msg="Amount must between "+i.min_amount+" to "+i.max_amount+" TK")}document.getElementById("createModal").style.display="none";var n=e.ubp,o=JSON.parse(JSON.stringify(n)),r=["search_name","suggestions","extra_info"],c=function(e){r.forEach(function(t){return delete o.ubp[e][t]}),o.ubp[e].service_id=o.ubp[e].service_id.id,o.ubp[e].schedule_time&&(o.ubp[e].schedule_time=t.$moment(o.ubp[e].schedule_time).format("YYYY-MM-DD HH:mm:ss"))};for(var l in o.ubp)c(l);axios.post("/api/v1/mt/ubps",o).then(function(s){t.ubp=t.ubpConst,e.$store.commit("submitMsg","add"),t.$root.acBalance(),e.getLists(),e.pending_waiting_count=0}).catch(function(t){e.$store.commit("errorMessages",t)})},editForm:function(t){this.ubpUpdate.id=t.id,this.ubpUpdate.schedule_time=t.schedule_time},tryAgain:function(t){var e=t.number.split("*");this.ubp.ubp[0].provider_id=t.provider_id,this.ubp.ubp[0].services=[t.service_id],this.ubp.ubp[0].service_id=t.service_id,this.ubp.ubp[0].ac_number=e[0],"palli-bidyut"==t.provider_id.slug&&"postpaid"==t.service_id.slug?this.ubp.ubp[0].due_date=e[1]:this.ubp.ubp[0].ac_number_two=e[1],this.ubp.ubp[0].amount=t.amount},updateForm:function(){var t=this;document.getElementById("editModal").classList.toggle("show");var e=this,s=e.ubpUpdate;axios.patch("/api/v1/mt/ubps/"+s.id,s).then(function(s){e.$store.commit("submitMsg","update"),t.$root.acBalance(),e.getLists()}).catch(function(t){e.$store.commit("errorMessages",t)})},cancelEntry:function(t,e){var s=this;confirm("Do you really want to cancel it?")&&axios.delete("/api/v1/mt/ubps/"+t).then(function(t){s.getLists(),s.$root.acBalance(),s.$store.commit("submitMsg","You have successfully canceled.")}).catch(function(t){s.$store.commit("errorMessages",t)})},ubpsModify:function(t){var e=this,s=this;if(confirm("Are you sure to modify?")){var a={status:t,ids:this.selected};axios.post("/api/v1/mt/ubp-modifystatus",a).then(function(t){s.$store.commit("submitMsg","update"),e.$root.acBalance(),s.selectAll=!1,s.selected=[],s.getLists()}).catch(function(t){s.$store.commit("errorMessages",t)})}},pending_waiting:function(){var t=this;if(t.pending_waiting_count<30){if("undefined"!=t.ubps.data&&t.ubps.data){var e=[];if(t.ubps.data.forEach(function(t){0!=t.status&&3!=t.status||e.push(t.id)}),e.length){var s={ids:e};axios.post("/api/v1/mt/mt-checkstatus",s).then(function(e){e.data.length&&e.data.forEach(function(e){var s=t.ubps.data.findIndex(function(t){return t.id==e.id});t.ubps.data[s].status=e.status})}).catch(function(e){t.$store.commit("errorMessages",e)})}}t.pending_waiting_count++}}},i18n:{messages:{en:{ubp_bill_list:"Utility Bill Lists",pay_bill:"Pay Bill",bill_type:"Bill Type",account_info:"Account Info",modemId:"ModemId",try_again:"Try Again",paid_amount:"Paid Amount",due_note:"Due Note",contact_num:"Contact number",contact_name:"Contact Nane",contact_list:"Contact List",consumer_number:"Consumer Number",bill_id:"Bill Id",s_b_t:"Select Bill Type",account_form:"Account Form",account_to:"Account To",add_new_name:"Add new name",add_schedule:"Add Schedule",add_due:"Add due",extra_info:"Extra Info",to_search_by_name:"To search by name",add_new_ubp:"Add new ubp",remove_this_mr:"Remove this mobile recharge"},bn:{ubp_bill_list:"প্রয়োজনীয় বিল তালিকা",pay_bill:"বিল প্রদান",bill_type:"বিলের ধরন",account_info:"একাউন্ট তথ্য",modemId:"মডেম আইডি",try_again:"আবার চেষ্টা করুন",paid_amount:"পরিশোধিত টাকা",due_note:"বাকির কারন",contact_num:"ফোনবুক নাম্বার",contact_name:"ফোনবুক নাম",contact_list:"ফোনবুক তালিকা",consumer_number:"গ্রাহক মোবাইল নাম্বার",bill_id:"বিল নং",s_b_t:"বিলের ধরন নির্বাচন",account_form:"কত টাকা হতে",account_to:"কত টাকা পর্যন্ত",add_new_name:"নতুন নাম যোগ করুন",add_schedule:"সময় যোগ করুন",add_due:"বাকি যোগ করুন",extra_info:"আরও তথ্য",to_search_by_name:"নাম দিয়ে সন্ধান করতে",add_new_ubp:"নতুন বিল যোগ করুন",remove_this_mr:"বাদ দিন"}},sharedMessages:a.a}}},423:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"component-heading clearfix"},[s("h2",{staticClass:"heading float-left"},[t._v("\n           "+t._s(t.$t("ubp_bill_list"))+"\n        ")]),t._v(" "),s("back-forward")],1),t._v(" "),s("div",{staticClass:"component-body"},[s("div",{staticClass:"modal fade",attrs:{id:"createModal"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.saveForm()}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"mt-number-list"},t._l(t.ubp.ubp,function(e,a){return s("div",{staticClass:"mt-numbers"},[s("div",{staticClass:"mt-title"},[t._v("\n                                            "+t._s(t.$t("no"))+" "+t._s(a+1)+"\n                                        ")]),t._v(" "),s("div",{staticClass:"mt-control"},[e.extra_info?[s("span",{class:e.add_name?"btn bg-success btn-sm":"btn btn-info btn-sm",attrs:{title:t.$t("add_new_name")},on:{click:function(t){e.add_name=!e.add_name}}},[s("i",{staticClass:"icon-address-book"})]),t._v(" "),s("span",{class:e.add_new_schedule?"btn bg-success btn-sm":"btn btn-info btn-sm",attrs:{title:t.$t("add_schedule")},on:{click:function(t){e.add_new_schedule=!e.add_new_schedule}}},[s("i",{staticClass:"icon-clock"})]),t._v(" "),s("span",{class:e.add_new_due?"btn bg-success btn-sm":"btn btn-info btn-sm",attrs:{title:t.$t("add_due")},on:{click:function(t){e.add_new_due=!e.add_new_due}}},[s("i",{staticClass:"icon-money"})]),t._v(" "),s("span",{directives:[{name:"can",rawName:"v-can",value:"ubp_multi_recharge",expression:"'ubp_multi_recharge'"}],staticClass:"btn btn-primary btn-sm",attrs:{title:t.$t("add_new_ubp")},on:{click:function(e){return t.addFlexi(a)}}},[s("i",{staticClass:"icon-plus"})]),t._v(" "),s("span",{directives:[{name:"can",rawName:"v-can",value:"ubp_multi_recharge",expression:"'ubp_multi_recharge'"}],staticClass:"btn btn-danger btn-sm",attrs:{title:t.$t("remove_this_mr")},on:{click:function(e){return t.removeFlexi(a)}}},[s("i",{staticClass:"icon-minus"})])]:t._e(),t._v(" "),s("span",{class:e.extra_info?"btn bg-success btn-sm":"btn btn-info btn-sm",attrs:{title:t.$t("extra_info")},on:{click:function(t){e.extra_info=!e.extra_info}}},[s("i",{staticClass:"icon-cogs"})]),t._v(" "),s("span",{staticClass:"btn btn-dark btn-sm",attrs:{title:t.$t("close"),"data-dismiss":"modal","aria-label":"Close"}},[s("i",{staticClass:"icon-cancel"})])],2),t._v(" "),s("div",{staticClass:"form-row mt-4"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"input-group outline-group mobile-number"},["checkbox"==(e.search_name?"text":"number")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"flex.number"}],staticClass:"form-control big-font outline",attrs:{autocomplete:"off",placeholder:" ",id:"number"+a,required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.number)?t._i(e.number,null)>-1:e.number},on:{keyup:function(s){return t.numberChange(a,e.search_name)},change:function(s){var a=e.number,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&t.$set(e,"number",a.concat([null])):o>-1&&t.$set(e,"number",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"number",n)}}}):"radio"==(e.search_name?"text":"number")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"flex.number"}],staticClass:"form-control big-font outline",attrs:{autocomplete:"off",placeholder:" ",id:"number"+a,required:"",type:"radio"},domProps:{checked:t._q(e.number,null)},on:{keyup:function(s){return t.numberChange(a,e.search_name)},change:function(s){return t.$set(e,"number",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"flex.number"}],staticClass:"form-control big-font outline",attrs:{autocomplete:"off",placeholder:" ",id:"number"+a,required:"",type:e.search_name?"text":"number"},domProps:{value:e.number},on:{keyup:function(s){return t.numberChange(a,e.search_name)},input:function(s){s.target.composing||t.$set(e,"number",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"number"+a}},[t._v(t._s(e.search_name?t.$t("contact_name"):t.$t("contact_num"))+" "+t._s(e.name?"("+e.name+")":" "))]),t._v(" "),e.number?s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text cursor-pointer",on:{click:function(e){return t.removeNumber(a)}}},[s("i",{staticClass:"icon-cancel"})])]):t._e(),t._v(" "),e.number?t._e():s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text cursor-pointer font-weight-bold",attrs:{title:e.search_name?t.$t("to_type_number"):t.$t("to_search_by_name")},on:{click:function(t){e.search_name=!e.search_name}}},[t._v(t._s(e.search_name?"0":"A"))])]),t._v(" "),e.number?t._e():s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text cursor-pointer font-weight-bold",attrs:{title:t.$t("contact_list"),"data-toggle":"modal","data-target":"#contactModal"},on:{click:function(e){return e.preventDefault(),t.loadContact(null,null,a)}}},[s("i",{staticClass:"icon-address-book"})])])])]),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[e.number_list?s("ul",{staticClass:"contact-suggestion"},[t._l(e.number_list,function(e,i){return t._l(e.ubp_services,function(i){return s("li",{on:{click:function(s){return t.selectedNumber(a,e,i)}}},[t._v(" \n                    \n                                                        "+t._s(e.services[0].number)+" "+t._s(e.name?"- "+e.name:"")+"\n\n                                                        "+t._s(i.provider_id?"- "+i.provider_id.name:"")+" \n                                                        "+t._s("- "+i.number)+" \n                                                    ")])})})],2):t._e()]),t._v(" "),e.add_name?s("div",{staticClass:"col-md-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"flex.name"}],staticClass:"form-control outline",attrs:{placeholder:" ",type:"text",id:"name"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"name"}},[t._v(t._s(t.$t("name")))])]):t._e(),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("bill_type")))]),t._v(" "),s("multiselect",{attrs:{"allow-empty":!1,"deselect-label":"","select-label":"",options:t.providers,"preserve-search":!0,label:"name","track-by":"name",placeholder:t.$t("s_b_t"),"preselect-first":!1},on:{input:function(e){return t.providerChanged(a)}},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[e.option.logo_small_src?[s("img",{staticClass:"option__image",attrs:{src:"/uploads/imgs/"+e.option.logo_small_src.resized_name,alt:e.option.name}})]:t._e(),t._v(" "),s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}},{key:"option",fn:function(e){return[e.option.logo_small_src?[s("img",{staticClass:"option__image",attrs:{src:"/uploads/imgs/"+e.option.logo_small_src.resized_name,alt:e.option.name}})]:t._e(),t._v(" "),s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}}],null,!0),model:{value:e.provider_id,callback:function(s){t.$set(e,"provider_id",s)},expression:"flex.provider_id"}})],1),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("service")))]),t._v(" "),s("multiselect",{attrs:{"allow-empty":!1,"deselect-label":"","select-label":"",options:e.services,placeholder:t.$t("s_s"),"preserve-search":!0,label:"name","track-by":"name","preselect-first":!1},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}},{key:"option",fn:function(e){return[s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}}],null,!0),model:{value:e.service_id,callback:function(s){t.$set(e,"service_id",s)},expression:"flex.service_id"}})],1),t._v(" "),s("div",{staticClass:"col-md-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.ac_number,expression:"flex.ac_number"}],staticClass:"form-control big-font outline",attrs:{type:"number",placeholder:" ",id:"contact-number",required:""},domProps:{value:e.ac_number},on:{input:function(s){s.target.composing||t.$set(e,"ac_number",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"contact-number"}},[t._v(t._s(t.numberTitle(a)))])]),t._v(" "),t.due_date_show(a)?s("div",{staticClass:"col-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.due_date,expression:"flex.due_date"}],staticClass:"form-control outline",attrs:{type:"number",placeholder:" ",id:"due-date",required:""},domProps:{value:e.due_date},on:{input:function(s){s.target.composing||t.$set(e,"due_date",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"due-date"}},[t._v("Due Date")]),t._v(" "),s("small",[t._v("Format: MMYYYY")])]):t._e(),t._v(" "),t.number_two_show(a)?s("div",{staticClass:"col-md-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.ac_number_two,expression:"flex.ac_number_two"}],staticClass:"form-control big-font outline",attrs:{type:"number",placeholder:"Contact Number",id:"contact-number-two",required:""},domProps:{value:e.ac_number_two},on:{input:function(s){s.target.composing||t.$set(e,"ac_number_two",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"contact-number-two"}},[t._v(t._s(t.numberTwoTitle(a)))])]):t._e(),t._v(" "),s("div",{staticClass:"col-12 mb-2"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-7 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"flex.amount"}],staticClass:"form-control big-font outline",attrs:{type:"number",placeholder:" ",id:"amount"+a,required:""},domProps:{value:e.amount},on:{input:function(s){s.target.composing||t.$set(e,"amount",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"amount"+a}},[t._v(t._s(t.$t("tk")))])]),t._v(" "),s("div",{staticClass:"col-5"},[s("p",{staticClass:"mt-1"},[t._v(t._s(t.$t("fee"))+" :"),e.service_id?s("span",{staticClass:"text-info"},[t._v(t._s(t.serviceFee(a)))]):t._e()])])]),t._v(" "),e.warning_msg?s("span",{staticClass:"text-danger"},[t._v(t._s(e.warning_msg))]):t._e()]),t._v(" "),e.add_new_schedule?s("div",{staticClass:"col-md-12 mb-3"},[s("date-time-picker",{attrs:{"value-format":"yyyy-LL-dd HH:mm:ss",format:"dd-LLLL-yyyy hh:mm a","today-button":!0,"close-button":!0,"hour-time":12},scopedSlots:t._u([{key:"choose-date",fn:function(){return[t._v(t._s(t.$t("schedule_time")))]},proxy:!0}],null,!0),model:{value:e.schedule_time,callback:function(s){t.$set(e,"schedule_time",s)},expression:"flex.schedule_time"}})],1):t._e(),t._v(" "),e.add_new_due?s("div",{staticClass:"col-md-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.paid,expression:"flex.paid"}],staticClass:"form-control outline",attrs:{type:"number",placeholder:"Paid Amount",id:"paid",required:""},domProps:{value:e.paid},on:{input:function(s){s.target.composing||t.$set(e,"paid",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"paid"}},[t._v(t._s(t.$t("paid_amount")))])]):t._e(),t._v(" "),e.add_new_due?s("div",{staticClass:"col-md-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.due_note,expression:"flex.due_note"}],staticClass:"form-control outline",attrs:{type:"text",placeholder:"Due Note",id:"due_note"},domProps:{value:e.due_note},on:{input:function(s){s.target.composing||t.$set(e,"due_note",s.target.value)}}}),t._v(" "),s("label",{attrs:{for:"due_note"}},[t._v(t._s(t.$t("due_note")))])]):t._e()])])}),0),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[s("div",{staticClass:"form-row"},[s("div",{directives:[{name:"can",rawName:"v-can",value:"ubp_pin_status",expression:"'ubp_pin_status'"}],staticClass:"col-7"},[s("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"fakeusernameremembered"}}),t._v(" "),s("input",{staticStyle:{display:"none"},attrs:{type:"password",name:"fakepasswordremembered"}}),t._v(" "),s("div",{staticClass:"input-group outline-group mobile-number"},["checkbox"==(t.showPass?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubp.pin,expression:"ubp.pin"}],staticClass:"form-control outline",attrs:{placeholder:" ",autocomplete:"off",id:"pin",required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.ubp.pin)?t._i(t.ubp.pin,null)>-1:t.ubp.pin},on:{change:function(e){var s=t.ubp.pin,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.ubp,"pin",s.concat([null])):n>-1&&t.$set(t.ubp,"pin",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.ubp,"pin",i)}}}):"radio"==(t.showPass?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubp.pin,expression:"ubp.pin"}],staticClass:"form-control outline",attrs:{placeholder:" ",autocomplete:"off",id:"pin",required:"",type:"radio"},domProps:{checked:t._q(t.ubp.pin,null)},on:{change:function(e){return t.$set(t.ubp,"pin",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubp.pin,expression:"ubp.pin"}],staticClass:"form-control outline",attrs:{placeholder:" ",autocomplete:"off",id:"pin",required:"",type:t.showPass?"text":"password"},domProps:{value:t.ubp.pin},on:{input:function(e){e.target.composing||t.$set(t.ubp,"pin",e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"pin"}},[t._v(t._s(t.$t("pin")))]),t._v(" "),s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text cursor-pointer",attrs:{title:t.showPass?t.$t("hide_pin"):t.$t("show_pin")},on:{click:function(e){t.showPass=!t.showPass}}},[s("i",{class:t.showPass?"icon-eye-off":"icon-eye"})])])])]),t._v(" "),s("div",{class:t.$root.can("ubp_pin_status")?"col-5":"col-12"},[s("button",{staticClass:"btn btn-primary d-block w-100",attrs:{type:"submit"}},[t._v(t._s(t.$t("pay_bill")))])])])])])])])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"contactModal"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"editModalLongTitle"}},[t._v(t._s(t.$t("contact_list")))]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-row"},[t.contactPreloader?s("div",{staticClass:"col-md-12"},[s("preloader")],1):t._e(),t._v(" "),t.contactPreloader?t._e():s("div",{staticClass:"col-12 mb-3 mt-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("s_cat")))]),t._v(" "),s("multiselect",{attrs:{options:t.contact.categories,"close-on-select":!1,"preserve-search":!0,label:"name","track-by":"name"},scopedSlots:t._u([{key:"tag",fn:function(e){return[s("span",{staticClass:"custom__tag"},[s("span",[t._v(t._s(e.option.name))]),t._v(" "),s("span",{on:{click:function(t){return e.remove(e.option)}}},[t._v("x")])])]}}],null,!1,1764505966),model:{value:t.contact.contact_cat_id,callback:function(e){t.$set(t.contact,"contact_cat_id",e)},expression:"contact.contact_cat_id"}})],1),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[t.contact.contacts.data?s("ul",{staticClass:"list-group"},[t._l(t.contact.contacts.data,function(e,a){return t._l(e.ubp_services,function(a){return s("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" \n\n                                        "+t._s(e.services[0].number)+" "+t._s(e.name?"- "+e.name:"")+"\n\n                                        "+t._s(a.provider_id?"- "+a.provider_id.name:"")+" \n                                        "+t._s("- "+a.number)+" \n                                        "),s("span",{staticClass:"badge badge-dark p-2 cursor-pointer",on:{click:function(s){return t.contactSeleted(e,a)}}},[s("i",{staticClass:"icon-ok"})])])})})],2):t._e(),t._v(" "),t.contactNoData&&!t.contactPreloader?[t._v("There is no contacts")]:t._e()],2),t._v(" "),s("div",{staticClass:"col-md-12 mb-3"},[s("pagination",{attrs:{data:t.contact.contacts,limit:2},on:{"pagination-change-page":t.loadContact}})],1)])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t._v(t._s(t.$t("close")))])])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:""}},[t._v(t._s(t.$t("edit_schedule")))]),t._v(" "),t._m(1)]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.updateForm()}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-md-12 mb-3"},[s("label",[t._v(t._s(t.$t("schedule_time")))]),t._v(" "),s("date-time-picker",{attrs:{placeholder:" ","value-format":"yyyy-LL-dd HH:mm:ss",format:"dd-LLLL-yyyy hh:mm a","today-button":!0,"close-button":!0,"hour-time":12},model:{value:t.ubpUpdate.schedule_time,callback:function(e){t.$set(t.ubpUpdate,"schedule_time",e)},expression:"ubpUpdate.schedule_time"}})],1)])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(t._s(t.$t("close")))]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                            "+t._s(t.$t("update"))+"\n                            ")])])])])])]),t._v(" "),s("div",{staticClass:"modal right fade",attrs:{id:"dataSearch"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("search")))]),t._v(" "),t._m(2)]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.dataSearch()}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("show")))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.perPage=e.target.multiple?s:s[0]}}},t._l(t.perPageOptions,function(e){return s("option",{domProps:{value:e.value}},[t._v("\n                                            "+t._s(e.text)+"\n                                        ")])}),0)]),t._v(" "),t.ubp_super_role?s("div",{staticClass:"col-12 mb-3"},[s("multiselect",{attrs:{options:t.accounts,"custom-label":t.customLabel,"preserve-search":!0,placeholder:t.$t("search_user"),selectLabel:"",loading:t.isLoading,deselectLabel:"","internal-search":!1,searchable:!0,label:"name","track-by":"name","preselect-first":!1},on:{"search-change":t.asyncFind},scopedSlots:t._u([{key:"tag",fn:function(e){return[s("span",[t._v(t._s(e.option.name))]),t._v(" "),s("span",{on:{click:function(t){return e.remove(e.option)}}},[t._v("x")])]}}],null,!1,1816658706),model:{value:t.ubpSearch.user_id,callback:function(e){t.$set(t.ubpSearch,"user_id",e)},expression:"ubpSearch.user_id"}}),t._v(" "),s("small",[t._v(t._s(t.$t("s_u_h")))])],1):t._e(),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("operator")))]),t._v(" "),s("multiselect",{attrs:{"deselect-label":"","select-label":"",options:t.providers,"preserve-search":!0,label:"name",placeholder:t.$t("s_o"),"track-by":"name","preselect-first":!1},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[e.option.logo_small_src?[s("img",{staticClass:"option__image",attrs:{src:"/uploads/imgs/"+e.option.logo_small_src.resized_name,alt:e.option.name}})]:t._e(),t._v(" "),s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}},{key:"option",fn:function(e){return[e.option.logo_small_src?[s("img",{staticClass:"option__image",attrs:{src:"/uploads/imgs/"+e.option.logo_small_src.resized_name,alt:e.option.name}})]:t._e(),t._v(" "),s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.name))])]}}]),model:{value:t.ubpSearch.provider_id,callback:function(e){t.$set(t.ubpSearch,"provider_id",e)},expression:"ubpSearch.provider_id"}})],1),t._v(" "),t.ubpSearch.provider_id?s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"o-s-l",attrs:{for:"search-service_id"}},[t._v(t._s(t.$t("type")))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.service_id,expression:"ubpSearch.service_id"}],staticClass:"form-control",attrs:{id:"search-service_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ubpSearch,"service_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t("all")))]),t._v(" "),t._l(t.ubpSearch.services,function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]):t._e(),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("select_status")))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.status,expression:"ubpSearch.status"}],staticClass:"form-control",attrs:{id:"search-status"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ubpSearch,"status",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t("select_status")))]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("pending")))]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("success")))]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v(t._s(t.$t("cancel")))]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v(t._s(t.$t("failed")))]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v(t._s(t.$t("schedule")))])])]),t._v(" "),s("div",{staticClass:"col-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.number,expression:"ubpSearch.number"}],staticClass:"form-control outline",attrs:{placeholder:" ",type:"text",id:"search-number"},domProps:{value:t.ubpSearch.number},on:{input:function(e){e.target.composing||t.$set(t.ubpSearch,"number",e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"search-number"}},[t._v(t._s(t.$t("account_info")))])]),t._v(" "),s("div",{staticClass:"col-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.amount_from,expression:"ubpSearch.amount_from"}],staticClass:"form-control outline",attrs:{placeholder:" ",type:"text",id:"search-amount-from"},domProps:{value:t.ubpSearch.amount_from},on:{input:function(e){e.target.composing||t.$set(t.ubpSearch,"amount_from",e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"search-amount-from"}},[t._v(t._s(t.$t("account_form")))])]),t._v(" "),s("div",{staticClass:"col-12 mb-3 outline-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.amount_to,expression:"ubpSearch.amount_to"}],staticClass:"form-control outline",attrs:{placeholder:" ",type:"text",id:"search-amount-to"},domProps:{value:t.ubpSearch.amount_to},on:{input:function(e){e.target.composing||t.$set(t.ubpSearch,"amount_to",e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"search-amount-to"}},[t._v(t._s(t.$t("account_to")))])]),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("date-time-picker",{attrs:{"value-format":"yyyy-LL-dd HH:mm:ss",format:"dd-LLLL-yyyy hh:mm a","today-button":!0,"close-button":!0,"hour-time":12},scopedSlots:t._u([{key:"choose-date",fn:function(){return[t._v(t._s(t.$t("date_from")))]},proxy:!0}]),model:{value:t.ubpSearch.date_from,callback:function(e){t.$set(t.ubpSearch,"date_from",e)},expression:"ubpSearch.date_from"}})],1),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("date-time-picker",{attrs:{"value-format":"yyyy-LL-dd HH:mm:ss",format:"dd-LLLL-yyyy hh:mm a","today-button":!0,"close-button":!0,"hour-time":12},scopedSlots:t._u([{key:"choose-date",fn:function(){return[t._v(t._s(t.$t("date_to")))]},proxy:!0}]),model:{value:t.ubpSearch.date_to,callback:function(e){t.$set(t.ubpSearch,"date_to",e)},expression:"ubpSearch.date_to"}})],1),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"o-s-l"},[t._v(t._s(t.$t("order_by")))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.ubpSearch.order_by,expression:"ubpSearch.order_by"}],staticClass:"form-control",attrs:{id:"search-order-by"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ubpSearch,"order_by",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t("newer_first")))]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("newer_last")))])])]),t._v(" "),s("div",{staticClass:"col-12 mb-3"},[s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit"}},[t._v(t._s(t.$t("search")))]),t._v(" "),s("button",{staticClass:"btn btn-dark float-right btn-sm",attrs:{type:"reset"}},[t._v(t._s(t.$t("reset")))])])])])])])])]),t._v(" "),t.ubp_super_role?s("div",{staticClass:"modal fade",attrs:{id:"msgDetails",tabindex:"-1",role:"dialog","aria-labelledby":"","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:""}},[t._v(t._s(t.$t("message")))]),t._v(" "),t._m(3)]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-md-12 mb-3"},[t._v("\n                                "+t._s(t.msg_details)+"\n                            ")])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(t._s(t.$t("close")))])])])])]):t._e(),t._v(" "),s("div",{staticClass:"table-actions"},[s("button",{staticClass:"btn btn-sm bg-success",attrs:{type:"button","data-toggle":"modal","data-target":"#createModal"}},[s("i",{staticClass:"icon-plus-squared"}),t._v(t._s(t.$t("pay_bill"))+"\n            ")]),t._v(" "),t.selected.length&&t.ubp_super_role?[s("button",{staticClass:"btn btn-info btn-sm dropdown-toggle",attrs:{type:"button",id:"ubpsModify","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"cursor-pointer"},[t._v(t._s(t.$t("m_s")))])]),t._v(" "),s("div",{staticClass:"dropdown-menu margin-left",attrs:{"aria-labelledby":"ubpsModify"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.ubpsModify(1)}}},[t._v("\n                   "+t._s(t.$t("success"))+"\n                ")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.ubpsModify(0)}}},[t._v("\n                    "+t._s(t.$t("failed"))+"\n                ")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.ubpsModify(2)}}},[t._v("\n                    "+t._s(t.$t("cancelled"))+"\n                ")])])]:t._e(),t._v(" "),s("button",{staticClass:"btn btn-sm btn-info float-right btn-search",attrs:{type:"button","data-toggle":"modal","data-target":"#dataSearch"}},[s("i",{staticClass:"icon-search"}),t._v(" "),s("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.$t("search")))])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-info float-right mr-2",attrs:{type:"button",title:t.$t("refresh_list")},on:{click:function(e){return t.getLists()}}},[s("i",{staticClass:"icon-arrows-cw"})])],2),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped bg-white"},[s("thead",[s("tr",[t.ubp_super_role?s("th",{staticStyle:{width:"20px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox",id:"check-all"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(e){var s=t.selectAll,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.selectAll=s.concat([null])):n>-1&&(t.selectAll=s.slice(0,n).concat(s.slice(n+1)))}else t.selectAll=i}}})]):t._e(),t._v(" "),s("th",[s("label",{attrs:{for:"check-all"}},[t._v(t._s(t.$t("status")))])]),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("user_id")))]):t._e(),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("u_n")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("bill_type")))]),t._v(" "),s("th",[t._v(t._s(t.$t("service")))]),t._v(" "),s("th",[t._v(t._s(t.$t("account_info")))]),t._v(" "),s("th",[t._v(t._s(t.$t("amount")))]),t._v(" "),s("th",[t._v(t._s(t.$t("fee")))]),t._v(" "),t.mt_agent_mer_role?s("th",{attrs:{title:"Commission"}},[t._v(t._s(t.$t("com")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("trx_id")))]),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("modemId")))]):t._e(),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("message")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("date")))])])]),t._v(" "),s("tbody",[t.preloader?s("tr",{staticStyle:{background:"none"}},[s("td",{attrs:{colspan:"5"}},[s("preloader")],1)]):t._e(),t._v(" "),t._l(t.ubps.data,function(e,a){return s("tr",[t.ubp_super_role?s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox",id:"checkbox-id-"+e.id},domProps:{value:e.id,checked:Array.isArray(t.selected)?t._i(t.selected,e.id)>-1:t.selected},on:{change:function(s){var a=t.selected,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=e.id,r=t._i(a,o);i.checked?r<0&&(t.selected=a.concat([o])):r>-1&&(t.selected=a.slice(0,r).concat(a.slice(r+1)))}else t.selected=n}}})]):t._e(),t._v(" "),s("td",[5==e.status?[s("div",{staticClass:"dropdown action-items"},[s("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"actionItemButtons","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"cursor-pointer",attrs:{title:t._f("moment")(e.schedule_time,"DD-MM-YYYY hh:mm a")}},[t._v("Schedule")])]),t._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"actionItemButtons"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#","data-toggle":"modal","data-target":"#editModal"},on:{click:function(s){return s.preventDefault(),t.editForm(e)}}},[t._v("\n                                       "+t._s(t.$t("edit_schedule"))+"\n                                    ")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.cancelEntry(e.id,a)}}},[t._v("\n                                        "+t._s(t.$t("cancel"))+"\n                                    ")])])])]:4==e.status||1==e.status?[s("div",{staticClass:"dropdown action-items"},[s("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"actionItemButtons","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"cursor-pointer"},[t._v(" "+t._s(4==e.status?"Failed":"Success"))])]),t._v(" "),s("div",{staticClass:"dropdown-menu ml-63",attrs:{"aria-labelledby":"actionItemButtons"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#","data-toggle":"modal","data-target":"#createModal"},on:{click:function(s){return s.preventDefault(),t.tryAgain(e)}}},[t._v("\n                                       "+t._s(t.$t("try_again"))+"\n                                    ")])])])]:[s("label",{attrs:{for:"checkbox-id-"+e.id}},[t._v(t._s(t.status(e)))])]],2),t._v(" "),t.ubp_super_role?s("td",[t._v(t._s(t.user(e.user)))]):t._e(),t._v(" "),t.ubp_super_role?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",[t._v(t._s(e.provider_id.name))]),t._v(" "),s("td",[t._v(t._s(e.service_id.name))]),t._v(" "),s("td",[s("label",{attrs:{for:"checkbox-id-"+e.id}},[t._v(t._s(t.accountInfo(e)))])]),t._v(" "),s("td",[t._v(t._s(e.amount))]),t._v(" "),s("td",[t._v(t._s(4!=e.status?e.user_fee:""))]),t._v(" "),t.mt_agent_mer_role?s("td",[t._v(t._s(4!=e.status?e.user_com:""))]):t._e(),t._v(" "),s("td",[t._v(t._s(e.id))]),t._v(" "),t.ubp_super_role?s("td",[t._v(t._s(e.trxid))]):t._e(),t._v(" "),t.ubp_super_role?s("td",[t._v(t._s(e.msg?e.msg.substr(0,40):null)+"\n                            "),e.msg?[s("span",{staticClass:"cursor-pointer",attrs:{"data-toggle":"modal","data-target":"#msgDetails"},on:{click:function(s){return t.msgDetails(e.msg)}}},[t._v("(More)")])]:t._e()],2):t._e(),t._v(" "),s("td",[t._v(t._s(t._f("moment")(e.updated_at,"YYYY-MM-DD hh:mm a")))])])}),t._v(" "),t.noData?[s("tr",{staticClass:"bg-white",domProps:{innerHTML:t._s(t.noData)}})]:t._e()],2),t._v(" "),s("tfoot",[s("tr",[t.ubp_super_role?s("th",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox",id:"check-all-bottom"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(e){var s=t.selectAll,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.selectAll=s.concat([null])):n>-1&&(t.selectAll=s.slice(0,n).concat(s.slice(n+1)))}else t.selectAll=i}}})]):t._e(),t._v(" "),s("th",[s("label",{attrs:{for:"check-all-bottom"}},[t._v(t._s(t.$t("status")))])]),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("user_id")))]):t._e(),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("u_n")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("bill_type")))]),t._v(" "),s("th",[t._v(t._s(t.$t("service")))]),t._v(" "),s("th",[t._v(t._s(t.$t("account_info")))]),t._v(" "),s("th",[t._v(t._s(t.$t("amount")))]),t._v(" "),s("th",[t._v(t._s(t.$t("fee")))]),t._v(" "),t.mt_agent_mer_role?s("th",{attrs:{title:"Commission"}},[t._v(t._s(t.$t("com")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("trx_id")))]),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("modemId")))]):t._e(),t._v(" "),t.ubp_super_role?s("th",[t._v(t._s(t.$t("message")))]):t._e(),t._v(" "),s("th",[t._v(t._s(t.$t("date")))])])])])]),t._v(" "),s("div",{staticClass:"table-actions"},[s("pagination-simple",{attrs:{data:t.ubps},on:{"pagination-change-page":t.getLists}}),t._v(" "),t.noData?t._e():s("div",{staticClass:"float-right amount-summery"},[s("span",{staticClass:"total-amount"},[t._v(t._s(t.$t("t_a"))+": "),s("b",[t._v(t._s(t.t_a))])]),t._v(" "),t.mt_agent_mer_role?s("span",{staticClass:"total-commision d-inline-block"},[t._v(t._s(t.$t("t_com"))+": "),s("b",[t._v(t._s(t.total_user_com))])]):t._e()])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]}},523:function(t,e,s){var a=s(16)(s(422),s(423),!1,function(t){s(420)},"data-v-a5d88dfc",null);t.exports=a.exports}});